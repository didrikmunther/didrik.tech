{% extends './page.html' %}

{% block header %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<script src="/static/splide.min.js"></script>
<link rel="stylesheet" href="/static/splide.min.css">


<!-- <script src="https://unpkg.com/jarallax@1.10/dist/jarallax.min.js"></script>
<link rel="preload" as="script" href="https://unpkg.com/jarallax@1.10/dist/jarallax.min.js"> -->
{% endblock %}

{% block content %}
<div class="{{footerColor}} pb-4">
    <svg
        class="w-full absolute top-0 left-0 h-128"
        preserveAspectRatio="none"
        aria-hidden="true"
        viewBox="0 0 487 83.98">
        <polygon fill="white" points="0 0 0 2.98 0 83.98 486.98 2.98 487 2.98 487 0 0 0">
        </polygon>
    </svg>

    <div class="relative mx-2 md:w-7/12 md:mx-auto">
        <h4 class="text-blue-400 text-center uppercase text-lg font-medium mb-4">{{date}}</h4>
        <h1 class="text-4xl md:text-6xl h1-title text-center mb-10">{{postTitle}}</h1>
    
        <div class="shadow rounded-sm overflow-hidden bg-white">
            <div class="flex justify-center items-start relative">
                <div class="overflow-hidden w-full h-64 md:h-128">
                    <!-- <div class="jarallax w-full h-full" data-jarallax data-speed="2.0" data-img-position="50% 100%" data-img-size="cover"> -->
                        <img
                            class="jarallax-img w-full"
                            src="{{ coverImg }}"
                            alt="{{ title }}">
                    <!-- </div> -->
                </div>
                <div class="px-8 xl:px-32 w-full absolute bottom-0 translate-y-50">
                    <div class="author-date -ml-6 left-0">
                        <div class="relative inline-block cursor-pointer hover:border-blue-100">
                            <div class="text-xs absolute whitespace-no-wrap bottom-1 ml-2 right-full uppercase tracking-wide font-medium author text-red-700 left-full">{{author}}</div>
                            <!-- <div class="text-xs absolute whitespace-no-wrap bottom-0 ml-2 left-full uppercase tracking-wide font-medium date text-gray-600">{{date}}</div> -->
                            <img
                                class="h-20 w-20 rounded-full border-4 border-white"
                                src="{{authorImg}}"
                                alt="{{author}}">
                        </div>
                    </div>
                </div>
            </div>
        
            <div class="blog markdown lg:prose-xl py-16 px-8 xl:py-24 xl:px-32">
                <h1 style="margin-bottom: 30px; line-height: 2.7rem;">
                    {% block title %}{% endblock %}
                </h1>
                {% block post %}{% endblock %}
            </div>

            {% if album %}
                <!-- <hr /> -->
                <div style="margin: 40px 0;">
                    <div class="splide" role="group" aria-label="Splide Basic HTML Example">
                        <div class="splide__track">
                              <ul class="splide__list" style="max-height: 550px; height: auto;">
                                  {% for image in album %}
                                    <li class="splide__slide">
                                        <img src="{{ image }}" alt="{{ title }}" style="max-width: 100%; max-height: 100%; object-fit: cover; margin: 0 auto;">
                                    </li>
                                  {% endfor %}
                              </ul>
                        </div>
                      </div>
                </div>

                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        var splide = new Splide('.splide', {
                            type: 'loop',
                            perPage: 1,
                            perMove: 1,
                            gap: 10,
                        });
                        splide.mount();
                    });
                </script>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}